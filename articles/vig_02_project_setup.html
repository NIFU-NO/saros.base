<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Project setup • saros.base</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="vig_02_project_setup_files/libs/quarto-html/popper.min.js"></script><script src="vig_02_project_setup_files/libs/quarto-html/tippy.umd.min.js"></script><link href="vig_02_project_setup_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="vig_02_project_setup_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Project setup">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">saros.base</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/vig_01_basic_file_system.html">Basic R, Quarto and file system setup</a></li>
    <li><a class="dropdown-item" href="../articles/vig_02_project_setup.html">Project setup</a></li>
    <li><a class="dropdown-item" href="../articles/vig_03_configure_report_cycle.html">Configure Saros settings for a project</a></li>
    <li><a class="dropdown-item" href="../articles/vig_04_prepare_data.html">Prepare dataset</a></li>
    <li><a class="dropdown-item" href="../articles/vig_05_standard_variable_names.html">Standard variable naming in longitudinal projects</a></li>
    <li><a class="dropdown-item" href="../articles/vig_06_prepare_chapter_overview.html">Preparing the chapter overview</a></li>
    <li><a class="dropdown-item" href="../articles/vig_07_adjust_report_cycle_settings.html">Draft report</a></li>
    <li><a class="dropdown-item" href="../articles/vig_31_render.html">Render</a></li>
    <li><a class="dropdown-item" href="../articles/vig_32_render_problems.html">Error messages and Frequently Asked Questions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/NIFU-NO/saros.base/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Project setup</h1>




      <small class="dont-index">Source: <a href="https://github.com/NIFU-NO/saros.base/blob/main/vignettes/vig_02_project_setup.qmd" class="external-link"><code>vignettes/vig_02_project_setup.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level2" data-number="1"><h2 data-number="1" id="create-a-research-project-folder-from-scratch">
<span class="header-section-number">1</span> Create a research project folder from scratch<a class="anchor" aria-label="anchor" href="#create-a-research-project-folder-from-scratch"></a>
</h2>
<ul>
<li>The following is intended for creating and maintaining a consistent and well-organized folder structure, based on some international “standards”.</li>
<li>If you have already set up a project structure or data collection, jump to <a href="">step 2</a>.</li>
</ul>
<section class="level2" data-number="1.1"><h3 data-number="1.1" id="whatever-you-chose">
<span class="header-section-number">1.1</span> Whatever you chose…<a class="anchor" aria-label="anchor" href="#whatever-you-chose"></a>
</h3>
<div>
<blockquote>
<p><strong>Warning</strong></p>
<p>Irrespective of the path A or B taken below, you want to distinguish between</p>
<ul>
<li><p>the folder where report generations are placed (never store your own work here as it may be overwritten by Saros)</p></li>
<li><p>the folder for each chapter where one writes, edits and store versions for proofing, etc. Saros will never touch these folders.</p></li>
<li><p>the folder where complete chapters are placed for publication on a website. Quarto Website Project will read from this and generate a website, reports as PDFs, DOCXs, etc.</p></li>
</ul>
</blockquote>
</div>
</section><section class="level2" data-number="1.2"><h3 data-number="1.2" id="path-a-copy-entire-folder-structure">
<span class="header-section-number">1.2</span> Path A: Copy entire folder structure<a class="anchor" aria-label="anchor" href="#path-a-copy-entire-folder-structure"></a>
</h3>
<p>Copy from an existing project using Saros, and edit the 00*_ R-files and _quarto.yaml files for project-specific settings.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">saros.base</span><span class="fu">::</span><span class="fu"><a href="../reference/copy_folder_contents_to_dir.html">copy_folder_contents_to_dir</a></span><span class="op">(</span></span>
<span>  <span class="va">from</span>, </span>
<span>  to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  only_copy_folders <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level2" data-number="1.3"><h3 data-number="1.3" id="path-b-add-only-saros-to-an-existing-project-folder">
<span class="header-section-number">1.3</span> Path B: Add only Saros to an existing project folder<a class="anchor" aria-label="anchor" href="#path-b-add-only-saros-to-an-existing-project-folder"></a>
</h3>
<p>Very often you have an existing project going, and only want to add the Saros-specific report production setup.</p>
<p>An easy basis to get going is the project template used by the <a href="https://www.nifu.no" class="external-link">Nordic Institute for the Studies of Innovation, Research, and Education (NIFU)</a>. Remember to have your project folder synchronized if this already exists.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://nifu-no.github.io/saros.base/">saros.base</a></span><span class="op">)</span></span>
<span><span class="fu">saros.base</span><span class="fu">::</span><span class="fu"><a href="../reference/download_zip_to_folder.html">download_zip_to_folder</a></span><span class="op">(</span>out_path <span class="op">=</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Saros"</span><span class="op">)</span><span class="op">)</span> <span class="co"># Set to your project folder's Saros-folder (keep absolute folder path as short as possible)</span></span></code></pre></div>
</div>
</section><section class="level2" data-number="1.4"><h3 data-number="1.4" id="path-c-generate-a-complete-folder-structure-from-a-folder-structure-file">
<span class="header-section-number">1.4</span> Path C: Generate a complete folder structure from a folder structure file<a class="anchor" aria-label="anchor" href="#path-c-generate-a-complete-folder-structure-from-a-folder-structure-file"></a>
</h3>
<p>This will create empty folders and thus force projects to follow a certain template. The template can be modified to an organization’s liking.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Modify these to your liking</span></span>
<span><span class="va">project_path</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">project_initials</span> <span class="op">&lt;-</span> <span class="st">"SMILE"</span></span>
<span><span class="va">saros_folder_name</span> <span class="op">&lt;-</span> <span class="st">"Saros"</span></span>
<span><span class="va">project_structure_yaml_path</span> <span class="op">&lt;-</span> <span class="st">"project_folder_structure.yaml"</span></span>
<span></span>
<span><span class="co"># Se function help for more details</span></span>
<span><span class="fu">saros.base</span><span class="fu">::</span><span class="fu"><a href="../reference/initialize_saros_project.html">initialize_saros_project</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="va">project_path</span>, </span>
<span>  structure_path <span class="op">=</span> <span class="va">project_structure_yaml_path</span>, </span>
<span>  replacement_list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"prosjekt_initialer"</span> <span class="op">=</span> <span class="va">project_initials</span><span class="op">)</span>,</span>
<span>  numbering_prefix <span class="op">=</span> <span class="st">"global_max"</span>,</span>
<span>  numbering_inheritance <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  word_separator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  numbering_name_separator <span class="op">=</span> <span class="st">" "</span>,</span>
<span>  numbering_parent_child_separator <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"asis"</span>,</span>
<span>  count_existing_folders <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  r_files_out_path <span class="op">=</span> <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">project_path</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">saros_folder_name</span>, <span class="va">project_initials</span><span class="op">)</span>, <span class="st">"01_script"</span>, <span class="st">"script_templates"</span><span class="op">)</span>, </span>
<span>  create <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># SET create = TRUE when you are satisfied with the folder structure</span></span></code></pre></div>
</div>
</section></section><section class="section level2" data-number="2"><h2 data-number="2" id="tailor-project-settings">
<span class="header-section-number">2</span> Tailor project settings<a class="anchor" aria-label="anchor" href="#tailor-project-settings"></a>
</h2>
<ul>
<li>Saros expands upon the inheritance idea in Quarto and allows setting and exempting settings inheritance-wise: organization level, project level, report cycle, chapter and chunk. This means that one can set defaults which can be overridden per project or per report.</li>
<li>For instance, <a href="www.nifu.no">NIFU</a> sets its organization-level settings that apply to all projects in one global R-file, which contains figure colour palette rules, special functions, and so forth.
<ul>
<li>This is currently limited to R-files used for generating reports and for rendering reports. The yaml metadata is currently duplicated per project, and will be in the future centralized in one location.</li>
</ul>
</li>
<li>File lanes in particular must be standardized across data collection cycles. Avoid that each implementation has its own folder in the project’s main folder - experience shows that it is very difficult to keep consistent folder structures across years when you are rarely confronted with how things have been done in the past. Try as much as possible to have the year folder at the bottom of the hierarchy - even if this means that you have to copy a number of subfolders every year.</li>
</ul>
<section class="level2" data-number="2.1"><h3 data-number="2.1" id="most-important-changes">
<span class="header-section-number">2.1</span> Most important changes<a class="anchor" aria-label="anchor" href="#most-important-changes"></a>
</h3>
<p>This is a quick approach to changing the most important settings. See further below for a more detailed explanation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">quarto_yaml</span> <span class="op">&lt;-</span> <span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/read_yaml.html" class="external-link">read_yaml</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"02_resources"</span>, <span class="st">"YAML"</span>, <span class="st">"_quarto.yaml"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">quarto_yaml</span><span class="op">$</span><span class="va">website</span><span class="op">$</span><span class="va">title</span> <span class="op">&lt;-</span> <span class="st">"PROJECT TITLE"</span></span>
<span><span class="va">quarto_yaml</span><span class="op">$</span><span class="va">website</span><span class="op">$</span><span class="va">`site-url`</span> <span class="op">&lt;-</span> <span class="st">"WEBSITE URL"</span></span>
<span><span class="va">quarto_yaml</span><span class="op">$</span><span class="va">project_no</span> <span class="op">&lt;-</span> <span class="st">"INTERNAL PROJECT NUMBER"</span> <span class="co"># Usually not needed</span></span>
<span><span class="va">quarto_yaml</span><span class="op">$</span><span class="va">funder</span> <span class="op">&lt;-</span> <span class="st">"FUNDER"</span></span>
<span><span class="va">quarto_yaml</span><span class="op">$</span><span class="va">funder_address</span> <span class="op">&lt;-</span> <span class="st">"FUNDER'S ADDRESS"</span></span>
<span><span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/write_yaml.html" class="external-link">write_yaml</a></span><span class="op">(</span><span class="va">quarto_yaml</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"02_resources"</span>, <span class="st">"YAML"</span>, <span class="st">"_quarto.yaml"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">report_yaml</span> <span class="op">&lt;-</span> <span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/read_yaml.html" class="external-link">read_yaml</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"02_resources"</span>, <span class="st">"YAML"</span>, <span class="st">"_report_header.yaml"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">report_yaml</span><span class="op">$</span><span class="va">signer_1</span> <span class="op">&lt;-</span> <span class="st">"REPORT SIGNER 1"</span></span>
<span><span class="va">report_yaml</span><span class="op">$</span><span class="va">signer_1_title</span> <span class="op">&lt;-</span> <span class="st">"REPORT SIGNER 1 JOB TITLE"</span></span>
<span><span class="va">report_yaml</span><span class="op">$</span><span class="va">signer_1</span> <span class="op">&lt;-</span> <span class="st">"REPORT SIGNER 2"</span></span>
<span><span class="va">report_yaml</span><span class="op">$</span><span class="va">signer_1_title</span> <span class="op">&lt;-</span> <span class="st">"REPORT SIGNER 2 JOB TITLE"</span></span>
<span><span class="va">report_yaml</span><span class="op">$</span><span class="va">report_type</span> <span class="op">&lt;-</span> <span class="st">"rapport"</span> <span class="co"># Usually not needed</span></span>
<span><span class="fu">yaml</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/yaml/man/write_yaml.html" class="external-link">write_yaml</a></span><span class="op">(</span><span class="va">report_yaml</span>, file <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"02_resources"</span>, <span class="st">"YAML"</span>, <span class="st">"_report_header.yaml"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</section></section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Stephan Daus, Nordic Institute for The Studies of Innovation, Research and Education (NIFU), Kristiania University College.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
